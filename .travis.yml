language: node_js
node_js: 7
matrix:
  include:
    - os: linux
      dist: trusty
    - os: osx
      osx_image: xcode8.3
env:
  global:
  - GITHUB_REPO: bitshares/bitshares-ui
  - ORGANIZATION_REPO: bitshares/bitshares.github.io
  - WALLET_REPO: bitshares/wallet.bitshares.org
  - CXX=g++-4.8
  - secure: "KhSBX62FS4IQiaOKuPEKhTsFpzcClTo2kcGlPdHvqScjLX7vzvrGkygT97+3pxyJotKNQdxid5ewOXnRMi6lIpr8NOGx+4QWL6Itd5BS6xiWsKv/3PQcdGhRiYjMd2tDQaa6cg0k3uh8UJAoX5/v7cSC+VxrWnD3UjD3N/gtb/sYKDvFBTI3//OfRJjyGofA1RiwpT1KNrWMtqIJ98laTeu6xFydeq8BYA30jzQk41nZE10ZdIJQ72s8rzauDvdTbzlcBCdhnDiCtjjKyvLSGgGtL9FkNQLXPKtlk/ywquqi70P1u5SLwh6Ssq+aGsLjIDPBl1UZkC+GhYXijcWkNtlo5X19pn0ZksHSzQSmnrgBMB2hVJX98761eoLMFUXopFkB3Ye47WETnn0RjP5ZKwDD61338y+qpYcWW8h69xeWzvqT5a8+eOEU1hc7k9A8AjnFfb+sbs8kLEVO7bbDpHnXli+edzbkLw/3+evkevTUphBHtdBPAVUVJ9ZKputkrt8z1s5V+V4O2rB9BCky6NpIMGi+RUS2sDoDd2Ys4X9XyN/WCOoh+AwY8iLlmNUSk4SbxZSm5ZvRvbv5cZ9157MIbaoTZTGzDfsedsQMJ4xE6U2z1/61EdZWg9Rg9nFdtzIxORWT17MLlfvhX5qXIBxhTeNF3JzLWpxkYCUg1/A="
cache:
  directories:
    - "node_modules"
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - gcc-4.8
    - g++-4.8
    - icnsutils
    - graphicsmagick
    - xz-utils
before_install: "./install.sh"
script: "./build.sh"
after_success: "./deploy.sh"
deploy:
  provider: releases
  tag_name: $TRAVIS_TAG
  name: $TRAVIS_TAG
  body: Automated release from Travis CI with added files from AppVeyor build
  api_key:
    secure: "KhSBX62FS4IQiaOKuPEKhTsFpzcClTo2kcGlPdHvqScjLX7vzvrGkygT97+3pxyJotKNQdxid5ewOXnRMi6lIpr8NOGx+4QWL6Itd5BS6xiWsKv/3PQcdGhRiYjMd2tDQaa6cg0k3uh8UJAoX5/v7cSC+VxrWnD3UjD3N/gtb/sYKDvFBTI3//OfRJjyGofA1RiwpT1KNrWMtqIJ98laTeu6xFydeq8BYA30jzQk41nZE10ZdIJQ72s8rzauDvdTbzlcBCdhnDiCtjjKyvLSGgGtL9FkNQLXPKtlk/ywquqi70P1u5SLwh6Ssq+aGsLjIDPBl1UZkC+GhYXijcWkNtlo5X19pn0ZksHSzQSmnrgBMB2hVJX98761eoLMFUXopFkB3Ye47WETnn0RjP5ZKwDD61338y+qpYcWW8h69xeWzvqT5a8+eOEU1hc7k9A8AjnFfb+sbs8kLEVO7bbDpHnXli+edzbkLw/3+evkevTUphBHtdBPAVUVJ9ZKputkrt8z1s5V+V4O2rB9BCky6NpIMGi+RUS2sDoDd2Ys4X9XyN/WCOoh+AwY8iLlmNUSk4SbxZSm5ZvRvbv5cZ9157MIbaoTZTGzDfsedsQMJ4xE6U2z1/61EdZWg9Rg9nFdtzIxORWT17MLlfvhX5qXIBxhTeNF3JzLWpxkYCUg1/A="
  file_glob: true
  file: build/binaries/BitShares*
  skip_cleanup: true
  draft: true
  on:
    repo: bitshares/bitshares-ui
    tags: true
